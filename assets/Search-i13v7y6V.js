import{u as f,r as a,j as t,L as h}from"./index-gjyf-r6L.js";import{a as g}from"./index-Dq7h7Pqt.js";import{N as b}from"./Navbar-CkAyw_4b.js";const w=()=>{const s=f(),l="search",[c,o]=a.useState([]),[d,i]=a.useState(!0),r=a.useRef(1),n=async(e,x)=>{if(e.length<=2)return;const p=await g.get(`https://api.themoviedb.org/3/search/multi?query=${e}&language=en-US&page=${x}`,{params:{api_key:"b4105cb1ea3d04a497991bd72cf04492"},headers:{accept:"application/json"}});o(p.data.results)};a.useEffect(()=>{n(s.query,r.current)},[]);const u=()=>{r.current=r.current+1,n(s.query,r.current),i(!1)},m=()=>{r.current<=1&&i(!0),r.current=r.current-1,n(s.query,r.current)};return t.jsxs(t.Fragment,{children:[t.jsx(b,{}),t.jsxs("h1",{className:"m-7 text-3xl font-bold",children:["Results For ",s.query]}),t.jsxs("div",{className:"m-4 flex justify-center items-center flex-row gap-8 relative",children:[t.jsx("button",{className:"h-28 w-10 border-2 border-[#5637c5] bg-[#2c2056] rounded-2xl my-4 fixed top-85 left-8",onClick:m,disabled:d,children:"<"}),t.jsx("div",{className:"flex gap-6 flex-row flex-wrap w-3/4 mx-auto justify-center items-center",children:c.length===0?t.jsx("div",{className:"text-center w-full text-lg font-semibold text-gray-600",children:"NO MOVIE OR SHOW OF SUCH NAME"}):c.filter(e=>e.media_type!=="person").map(e=>t.jsx("div",{children:t.jsxs(h,{to:"/"+e.media_type+"/"+l+"/details/"+e.id+"/"+s.query,children:[t.jsx("div",{className:"h-64 w-36",children:t.jsx("img",{src:`https://image.tmdb.org/t/p/w500${e.poster_path}`,alt:e.name||e.title,className:"h-full w-full object-cover"})}),t.jsx("h3",{className:"text-center text-sm mt-1 w-36 font-medium",children:e.name||e.title})]})},e.id||e.credit_id))}),t.jsx("button",{className:"h-28 w-10 border-2 border-[#5637c5] bg-[#2c2056] rounded-2xl my-4 fixed top-85 right-8",onClick:u,disabled:c.length<20,children:">"})]})]})};export{w as default};
