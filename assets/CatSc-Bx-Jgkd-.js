import{u as f,r,j as e,L as h}from"./index-gjyf-r6L.js";import{a as g}from"./index-Dq7h7Pqt.js";import{N as b}from"./Navbar-CkAyw_4b.js";const N=()=>{const s=f(),[c,l]=r.useState([]),[d,i]=r.useState(!0),a=r.useRef(1),n=async(t,u,p)=>{const x=await g.get(`https://api.themoviedb.org/3/discover/${t}?include_adult=false&include_null_first_air_dates=false&language=en-US&page=${p}&sort_by=popularity.desc&watch_region=IN&with_genres=${u}`,{params:{api_key:"b4105cb1ea3d04a497991bd72cf04492"},headers:{accept:"application/json"}});l(x.data.results)};r.useEffect(()=>{n(s.type,s.cat,a.current)},[]);const o=()=>{a.current=a.current+1,n(s.type,s.cat,a.current),i(!1)},m=()=>{a.current<=1&&i(!0),a.current=a.current-1,n(s.type,s.cat,a.current)};return e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx("h1",{className:"m-7 text-3xl font-bold",children:s.catname}),e.jsxs("div",{className:"m-4 flex justify-center items-center flex-row gap-8 relative",children:[e.jsx("button",{className:"h-28 w-10 border-2 border-[#5637c5] bg-[#2c2056] rounded-2xl my-4 fixed top-85 left-8",onClick:m,disabled:d,children:"<"}),e.jsx("div",{className:"flex gap-6 flex-row flex-wrap w-3/4 justify-center items-center mx-auto",children:c.length===0?e.jsx("div",{className:"text-center w-full text-lg font-semibold text-gray-600",children:"NO MOVIE OR SHOW OF SUCH NAME"}):c.map(t=>e.jsx("div",{children:e.jsxs(h,{to:"/"+s.type+"/"+s.type+"/details/"+t.id+"/"+t.name,children:[e.jsx("div",{className:"h-64 w-36",children:e.jsx("img",{src:`https://image.tmdb.org/t/p/w500${t.poster_path}`,alt:t.name||t.title,className:"h-full w-full object-cover"})}),e.jsx("h3",{className:"text-center text-sm mt-1 w-36 font-medium",children:t.name||t.title})]})},t.id||t.credit_id))}),e.jsx("button",{className:"h-28 w-10 border-2 border-[#5637c5] bg-[#2c2056] rounded-2xl my-4 fixed top-85 right-8",onClick:o,disabled:c.length<20,children:">"})]})]})};export{N as default};
